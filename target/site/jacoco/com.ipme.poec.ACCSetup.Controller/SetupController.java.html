<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>SetupController.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">ACCSetup</a> &gt; <a href="index.source.html" class="el_package">com.ipme.poec.ACCSetup.Controller</a> &gt; <span class="el_source">SetupController.java</span></div><h1>SetupController.java</h1><pre class="source lang-java linenums">package com.ipme.poec.ACCSetup.Controller;

import com.ipme.poec.ACCSetup.Model.*;
import com.ipme.poec.ACCSetup.Service.SessionService;
import com.ipme.poec.ACCSetup.Service.SetupService;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;

import java.util.List;

@RestController
@RequestMapping(&quot;/setups&quot;)
<span class="fc" id="L13">public class SetupController {</span>

    @Autowired
    private SetupService setupService;

    @Autowired
    private SessionService sessionService;


    @GetMapping
    public List&lt;Setup&gt; getSetups() {
<span class="nc" id="L24">        return setupService.findAll();</span>
    }


    @PostMapping(&quot;/add&quot;)   //mapping de la méthode
    public void createSetup(String name, List&lt;Integer&gt; weatherIds, List&lt;Integer&gt; conditionIds, Session session) {
<span class="nc" id="L30">        setupService.createSetup(name, weatherIds, conditionIds, session);   //appel à la méthode de création du user dans le service, qui lui fait appel au repository</span>
<span class="nc" id="L31">    }</span>

    @PutMapping(&quot;/edit&quot;)
    public void updateSetup(Setup setup, String nameToUpdate, float setupFLCamberToUpdate, float setupFRCamberToUpdate, float setupRLCamberToUpdate, float setupRRCamberToUpdate, float setupFLPsiToUpdate, float setupFRPsiToUpdate, float setupRLPsiToUpdate, float setupRRPsiToUpdate, float setupFLToeToUpdate, float setupFRToeToUpdate, float setupRLToeToUpdate, float setupRRToeToUpdate, float setupFLCasterToUpdate, float setupFRCasterToUpdate, String setupDescToUpdate, List&lt;Integer&gt; conditionsToUpdate, List&lt;Integer&gt; weathersToUpdate) {
<span class="nc" id="L35">        setupService.updateSetup(setup, nameToUpdate, setupFLCamberToUpdate, setupFRCamberToUpdate, setupRLCamberToUpdate, setupRRCamberToUpdate, setupFLPsiToUpdate, setupFRPsiToUpdate, setupRLPsiToUpdate, setupRRPsiToUpdate, setupFLToeToUpdate, setupFRToeToUpdate, setupRLToeToUpdate, setupRRToeToUpdate, setupFLCasterToUpdate, setupFRCasterToUpdate, setupDescToUpdate, conditionsToUpdate, weathersToUpdate);</span>
<span class="nc" id="L36">    }</span>

    @DeleteMapping(&quot;/delete&quot;)
    public void deleteSetup(Setup setup) {
<span class="nc" id="L40">        setupService.deleteSetup(setup.getSetupId());</span>
<span class="nc" id="L41">    }</span>

}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.8.202204050719</span></div></body></html>